(this.webpackJsonpmedium_clone=this.webpackJsonpmedium_clone||[]).push([[0],{36:function(e,t,a){e.exports=a(75)},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),l=a.n(c),s=a(2),o=a(10),m=a(1),i=a(7),u=function(e){var t=e.tags;return r.a.createElement("ul",{className:"tag-list"},t.map((function(e){return r.a.createElement("li",{key:e,className:"tag-default tag-pill tag-outline"},e)})))},E=a(15),f=a.n(E),d=a(9),g=a(32),p=a.n(g),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=Object(n.useState)((function(){return localStorage.getItem(e)||t})),r=Object(m.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){localStorage.setItem(e,c)}),[c,e]),[c,l]},v=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),s=Object(m.a)(l,2),o=s[0],i=s[1],u=Object(n.useState)(null),E=Object(m.a)(u,2),f=E[0],g=E[1],v=Object(n.useState)({}),N=Object(m.a)(v,2),O=N[0],j=N[1],h=b("token"),y=Object(m.a)(h,1)[0],S=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};j(e),c(!0)}),[]);return Object(n.useEffect)((function(){var t=!1,a=Object(d.a)({},O,{},{headers:{authorization:y?"Token ".concat(y):""}});if(r)return p()("https://conduit.productionready.io/api"+e,a).then((function(e){t||(c(!1),i(e.data))})).catch((function(e){t||(c(!1),g(e.response.data))})),function(){t=!0}}),[r,O,e,y]),[{isLoading:r,response:o,error:f},S]},N=function(e){var t=e.isFavorited,a=e.favoritesCount,n=e.articlesSlug,c="/articles/".concat(n,"/favorite"),l=v(c),s=Object(m.a)(l,2),o=s[0].response,i=s[1],u=o?o.article.favoritesCount:a,E=o?o.article.favorited:t,d=f()({btn:!0,"btn-sm":!0,"btn-primary":E,"btn-outline-primary":!E});return r.a.createElement("button",{className:d,onClick:function(e){e.preventDefault(),i({method:E?"delete":"post"})}},r.a.createElement("i",{className:"ion-heart"})," ",r.a.createElement("span",null,u))},O=function(e){var t=e.articles;return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{className:"article-preview",key:t},r.a.createElement("div",{className:"article-meta"},r.a.createElement(s.b,{to:"/profiles/".concat(e.author.username)},e.author.image&&r.a.createElement("img",{src:e.author.image,alt:"user avatar"})),r.a.createElement("div",{className:"info"},r.a.createElement(s.b,{to:"/profiles/".concat(e.author.username),className:"author"},e.author.username),r.a.createElement("span",{className:"date"},e.createdAt)),r.a.createElement("div",{className:"pull-xs-right"},r.a.createElement(N,{isFavorited:e.favorited,favoritesCount:e.favoritesCount,articlesSlug:e.slug}))),r.a.createElement(s.b,{to:"/article/".concat(e.slug),className:"preview-link"},r.a.createElement("h1",null,e.title),r.a.createElement("p",null,e.description),r.a.createElement("span",null,"Read more..."),r.a.createElement(u,{tags:e.tagList})))})))},j=a(35),h=function(e){var t=Object(i.parse)(e),a=t.page?Number(t.page):1;return{currentPage:a,offset:10*a-10}},y=function(e){var t=e.page,a=e.currentPage,n=e.url,c=f()({"page-item":!0,active:a===t});return r.a.createElement("li",{className:c},r.a.createElement(s.b,{to:"".concat(n,"?page=").concat(t),className:"page-link"},t))},S=function(e){var t,a,n=e.total,c=e.limit,l=e.url,s=e.currentPage,o=Math.ceil(n/c),m=(t=1,a=o,Object(j.a)(Array(a).keys()).map((function(e){return e+t})));return r.a.createElement("ul",{className:"pagination"},m.map((function(e){return r.a.createElement(y,{page:e,currentPage:s,url:l,key:e})})))},x=function(){return r.a.createElement("div",null,"Loading...")},k=function(){return r.a.createElement("div",null,"Something went wrong")},C=function(){var e=v("/tags"),t=Object(m.a)(e,2),a=t[0],c=a.response,l=a.isLoading,o=a.error,i=t[1];return Object(n.useEffect)((function(){i()}),[i]),l||!c?r.a.createElement(x,null):o?r.a.createElement(k,null):r.a.createElement("div",{className:"sidebar"},r.a.createElement("p",null,"Popular tags"),r.a.createElement("div",{className:"tag-list"},c.tags.map((function(e){return r.a.createElement(s.b,{to:"/tags/".concat(e),className:"tag-default tag-pill",key:e},e)}))))},L={isLoading:!1,isLoggedIn:null,currentUser:null},w=function(e,t){switch(t.type){case"LOADING":return Object(d.a)({},e,{isLoading:!0});case"SET_AUTHORIZED":return Object(d.a)({},e,{isLoggedIn:!0,isLoading:!1,currentUser:t.payload});case"SET_UNAUTHORIZED":return Object(d.a)({},e,{isLoggedIn:!1});case"LOGOUT":return Object(d.a)({},L,{isLoggedIn:!1});default:return e}},U=Object(n.createContext)(),P=function(e){var t=e.children,a=Object(n.useReducer)(w,L);return r.a.createElement(U.Provider,{value:a},t)},I=function(e){var t=e.tagName,a=Object(n.useContext)(U),c=Object(m.a)(a,1)[0];return r.a.createElement("div",{className:"feed-toggle"},r.a.createElement("ul",{className:"nav nav-pills outline-active"},c.isLoggedIn&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/feed",className:"nav-link"},"Your feed")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/",className:"nav-link",exact:!0},"Global Feed")),t&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/tags/".concat(t),className:"nav-link"},r.a.createElement("i",{className:"ion-pound"}),t))))},A=function(e){var t=e.location,a=e.match,c=h(t.search),l=c.offset,s=c.currentPage,o=Object(i.stringify)({limit:10,offset:l}),u="/articles?".concat(o),E=v(u),f=Object(m.a)(E,2),d=f[0],g=d.response,p=d.isLoading,b=d.error,N=f[1],j=a.url;return Object(n.useEffect)((function(){N()}),[N,s]),r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Medium clone"),r.a.createElement("p",null,"A place to share knowledge"))),r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(I,null),p&&r.a.createElement(x,null),b&&r.a.createElement(k,null),!p&&g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{articles:g.articles}),r.a.createElement(S,{total:g.articlesCount,limit:10,url:j,currentPage:s}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(C,null)))))},T=function(e){var t=e.match,a=Object(n.useContext)(U),c=Object(m.a)(a,1)[0],l=t.params.slug,i="/articles/".concat(l),E=Object(n.useState)(!1),f=Object(m.a)(E,2),d=f[0],g=f[1],p=v(i),b=Object(m.a)(p,2),N=b[0],O=N.response,j=N.error,h=N.isLoading,y=b[1],S=v(i),C=Object(m.a)(S,2),L=C[0].response,w=C[1];Object(n.useEffect)((function(){y()}),[y]);return Object(n.useEffect)((function(){L&&g(!0)}),[L]),d?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"article-page"},r.a.createElement("div",{className:"banner"},!h&&O&&r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,O.article.title),r.a.createElement("div",{className:"article-meta"},r.a.createElement(s.b,{to:"/profile/".concat(O.article.author.username)},r.a.createElement("img",{src:O.article.author.image,alt:"avatar"})),r.a.createElement("div",{className:"info"},r.a.createElement(s.b,{to:"/profile/".concat(O.article.author.username)},O.article.author.username),r.a.createElement("span",{className:"date"},O.article.createdAt)),!(!O||!c.isLoggedIn)&&O.article.author.username===c.currentUser.username&&r.a.createElement("span",null,r.a.createElement(s.b,{to:"/article/".concat(O.article.slug,"/edit"),className:"btn btn-outline-secondary btn-sm"},r.a.createElement("i",{className:"ion-edit"})," Edit Post")," ",r.a.createElement("button",{onClick:function(){w({method:"delete"})},className:"btn btn-outline-danger btn-sm"},r.a.createElement("i",{className:"ion-trash-a"})," Delete Post"))))),r.a.createElement("div",{className:"container page"},h&&r.a.createElement(x,null),j&&r.a.createElement(k,null),!h&&O&&r.a.createElement("div",{className:"row article-content"},r.a.createElement("div",{className:"col-xs-12"},r.a.createElement("div",null,r.a.createElement("p",null,O.article.body)),r.a.createElement(u,{tags:O.article.tagList})))))},D=function(e){var t=e.backendErrors,a=Object.keys(t).map((function(e){var a=t[e].join(" ");return"".concat(e," ").concat(a)}));return r.a.createElement("ul",{className:"error-messages"},a.map((function(e){return r.a.createElement("li",{key:e},e)})))},F=function(e){var t="/login"===e.match.path,a=t?"/users/login":"/users",c=Object(n.useState)(""),l=Object(m.a)(c,2),i=l[0],u=l[1],E=Object(n.useState)(""),f=Object(m.a)(E,2),d=f[0],g=f[1],p=Object(n.useState)(""),N=Object(m.a)(p,2),O=N[0],j=N[1],h=v(a),y=Object(m.a)(h,2),S=y[0],x=S.response,k=S.isLoading,C=S.error,L=y[1],w=Object(n.useState)(!1),P=Object(m.a)(w,2),I=P[0],A=P[1],T=b("token"),F=Object(m.a)(T,2)[1],R=Object(n.useContext)(U),H=Object(m.a)(R,2)[1];return Object(n.useEffect)((function(){x&&(F(x.user.token),A(!0),H({type:"SET_AUTHORIZED",payload:x.user}))}),[x,F,H]),I?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"auth-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},t?"Sign in":"Sign up"),r.a.createElement("p",{className:"text-xs-center"},r.a.createElement(s.b,{to:t?"/register":"/login"},t?"Need an account?":"Have an account?")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),L({method:"post",data:{user:t?{email:i,password:d}:{email:i,password:d,username:O}}})},autoComplete:"off"},C&&r.a.createElement(D,{backendErrors:C.errors}),r.a.createElement("fieldset",null,!t&&r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"User name",value:O,onChange:function(e){var t=e.target;return j(t.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"email",className:"form-control form-control-lg",placeholder:"Email",value:i,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",value:d,onChange:function(e){var t=e.target;return g(t.value)}})),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary pull-xs-right",disabled:k},t?"Sign in":"Sign up")))))))},R=function(e){var t=e.location,a=e.match,c=a.params.slug,l=h(t.search),s=l.offset,o=l.currentPage,u=Object(i.stringify)({limit:10,offset:s,tag:c}),E="/articles?".concat(u),f=v(E),d=Object(m.a)(f,2),g=d[0],p=g.response,b=g.isLoading,N=g.error,j=d[1],y=a.url;return Object(n.useEffect)((function(){j()}),[j,o,c]),r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Medium clone"),r.a.createElement("p",null,"A place to share knowledge"))),r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(I,{tagName:c}),b&&r.a.createElement(x,null),N&&r.a.createElement(k,null),!b&&p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{articles:p.articles}),r.a.createElement(S,{total:p.articlesCount,limit:10,url:y,currentPage:o}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(C,null)))))},H=function(e){var t=e.location,a=e.match,c=h(t.search),l=c.offset,s=c.currentPage,o=Object(i.stringify)({limit:10,offset:l}),u="/articles/feed?".concat(o),E=v(u),f=Object(m.a)(E,2),d=f[0],g=d.response,p=d.isLoading,b=d.error,N=f[1],j=a.url;return Object(n.useEffect)((function(){N()}),[N,s]),r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"banner"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Medium clone"),r.a.createElement("p",null,"A place to share knowledge"))),r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-9"},r.a.createElement(I,null),p&&r.a.createElement(x,null),b&&r.a.createElement(k,null),!p&&g&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{articles:g.articles}),r.a.createElement(S,{total:g.articlesCount,limit:10,url:j,currentPage:s}))),r.a.createElement("div",{className:"col-md-3"},r.a.createElement(C,null)))))},_=function(e){var t=e.onSubmit,a=e.errors,c=e.initialValues,l=Object(n.useState)(""),s=Object(m.a)(l,2),o=s[0],i=s[1],u=Object(n.useState)(""),E=Object(m.a)(u,2),f=E[0],d=E[1],g=Object(n.useState)(""),p=Object(m.a)(g,2),b=p[0],v=p[1],N=Object(n.useState)(""),O=Object(m.a)(N,2),j=O[0],h=O[1];Object(n.useEffect)((function(){c&&(i(c.title),v(c.description),d(c.body),h(c.tagList.join(" ")))}),[c]);return r.a.createElement("div",{className:"editor-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10 offset-md-1 col-xs-12"},a&&r.a.createElement(D,{backendErrors:a}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({title:o,body:f,description:b,tagList:j})}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article title",value:o,onChange:function(e){return i(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"What is this article about?",value:b,onChange:function(e){return v(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",rows:"10",placeholder:"Write your article (in markdown)",value:f,onChange:function(e){return d(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter tags",value:j,onChange:function(e){return h(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-lg pull-xs-right btn-primary"},"Publish Post"))))))))},M=function(){var e=Object(n.useContext)(U),t=Object(m.a)(e,1)[0],a=v("/articles"),c=Object(m.a)(a,2),l=c[0],s=l.response,i=l.error,u=c[1],E=Object(n.useState)(!1),f=Object(m.a)(E,2),d=f[0],g=f[1];return Object(n.useEffect)((function(){s&&g(!0)}),[s]),!1===t.isLoggedIn?r.a.createElement(o.a,{to:"/"}):d?r.a.createElement(o.a,{to:"/article/".concat(s.article.slug)}):r.a.createElement("div",null,r.a.createElement(_,{errors:i&&i.errors||{},initialValues:{title:"",description:"",body:"",tagList:[]},onSubmit:function(e){u({method:"post",data:{article:e}})}}))},Z=function(e){var t=e.match.params.slug,a="/articles/".concat(t),c=Object(n.useState)(!1),l=Object(m.a)(c,2),s=l[0],i=l[1],u=Object(n.useContext)(U),E=Object(m.a)(u,1)[0],f=v(a),d=Object(m.a)(f,2),g=d[0].response,p=d[1],b=v(a),N=Object(m.a)(b,2),O=N[0],j=O.response,h=O.error,y=N[1],S=Object(n.useState)(null),x=Object(m.a)(S,2),k=x[0],C=x[1];return Object(n.useEffect)((function(){p()}),[p]),Object(n.useEffect)((function(){g&&C({title:g.article.title,description:g.article.description,body:g.article.body,tagList:g.article.tagList})}),[g]),Object(n.useEffect)((function(){j&&i(!0)}),[j]),!1===E.isLoggedIn?r.a.createElement(o.a,{to:"/"}):s?r.a.createElement(o.a,{to:"/article/".concat(t)}):r.a.createElement(_,{onSubmit:function(e){y({method:"put",data:{article:e}})},errors:h&&h.errors||{},initialValues:k})},G=function(){var e=Object(n.useContext)(U),t=Object(m.a)(e,2),a=t[0],c=t[1],l=v("/user"),s=Object(m.a)(l,2),i=s[0],u=i.response,E=i.error,f=s[1],g=Object(n.useState)(""),p=Object(m.a)(g,2),N=p[0],O=p[1],j=Object(n.useState)(""),h=Object(m.a)(j,2),y=h[0],S=h[1],x=Object(n.useState)(""),k=Object(m.a)(x,2),C=k[0],L=k[1],w=Object(n.useState)(""),P=Object(m.a)(w,2),I=P[0],A=P[1],T=Object(n.useState)(""),F=Object(m.a)(T,2),R=F[0],H=F[1],_=b("token"),M=Object(m.a)(_,2)[1],Z=Object(n.useState)(!1),G=Object(m.a)(Z,2),V=G[0],J=G[1];return Object(n.useEffect)((function(){a.currentUser&&(O(a.currentUser.image),S(a.currentUser.username),L(a.currentUser.bio),A(a.currentUser.email))}),[a.currentUser]),Object(n.useEffect)((function(){u&&c({type:"SET_AUTHORIZED",payload:u.user})}),[u,c]),V?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",{className:"settings-page"},r.a.createElement("div",{className:"container page"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3 col-xs-12"},r.a.createElement("h1",{className:"text-xs-center"},"Your settings"),E&&r.a.createElement(D,{backendErrors:E.errors}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f({method:"put",data:{user:Object(d.a)({},a.currentUser,{image:N,username:y,bio:C,email:I,password:R})}})}},r.a.createElement("fieldset",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"URl of profile picture",value:N,onChange:function(e){return O(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",value:y,onChange:function(e){return S(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio",value:C,onChange:function(e){return L(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control form-control-lg",placeholder:"Email",value:I,onChange:function(e){return A(e.target.value)}})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",value:R,onChange:function(e){return H(e.target.value)}})),r.a.createElement("button",{type:"submit",className:"btn btn-lg btn-primary pull-xs-right"},"Update settings"))),r.a.createElement("hr",null),r.a.createElement("button",{className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),M(""),c({type:"LOGOUT"}),J(!0)}},"Or click here to logout")))))},V=function(e){var t=e.username,a=e.location,c=e.isFavorites,l=e.url,s=h(a.search),o=s.offset,u=s.currentPage,E=function(e){var t=e.username,a=e.offset,n=e.isFavorites?{limit:10,offset:a,favorited:t}:{limit:10,offset:a,author:t};return"/articles?".concat(Object(i.stringify)(n))}({username:t,offset:o,isFavorites:c}),f=v(E),d=Object(m.a)(f,2),g=d[0],p=g.response,b=g.error,N=g.isLoading,j=d[1];return Object(n.useEffect)((function(){j()}),[j,c]),r.a.createElement("div",null,N&&r.a.createElement(x,null),b&&r.a.createElement(k,null),!N&&p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{articles:p.articles}),r.a.createElement(S,{total:p.articlesCount,limit:10,url:l,currentPage:u})))},J=function(e){var t=e.match,a=e.location,c=t.params.slug,l=a.pathname.includes("favorites"),o="/profiles/".concat(c),i=v(o),u=Object(m.a)(i,2),E=u[0].response,f=u[1];return Object(n.useEffect)((function(){f()}),[f]),E?r.a.createElement("div",{className:"profile-page"},r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-10 offset-1"},r.a.createElement("img",{src:E.profile.image,alt:"avatar",className:"user-img"}),r.a.createElement("p",null,E.profile.username),r.a.createElement("h4",null,E.profile.bio))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-md-10 offset-1"},r.a.createElement("div",{className:"articles-toggle"},r.a.createElement("ul",{className:"nav nav-pills outline-active"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/profiles/".concat(E.profile.username),className:"nav-link",exact:!0},"My Posts")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/profiles/".concat(E.profile.username,"/favorites"),className:"nav-link"},"Favorites Posts")))),r.a.createElement(V,{username:E.profile.username,location:a,isFavorites:l,url:t.url}))))):null},W=function(){return r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:A}),r.a.createElement(o.b,{path:"/profiles/:slug",exact:!0,component:J}),r.a.createElement(o.b,{path:"/profiles/:slug/favorites",exact:!0,component:J}),r.a.createElement(o.b,{path:"/settings",exact:!0,component:G}),r.a.createElement(o.b,{path:"/article/new",component:M}),r.a.createElement(o.b,{path:"/article/:slug/edit",component:Z}),r.a.createElement(o.b,{path:"/feed",component:H}),r.a.createElement(o.b,{path:"/tags/:slug",component:R}),r.a.createElement(o.b,{path:"/login",component:F}),r.a.createElement(o.b,{path:"/register",component:F}),r.a.createElement(o.b,{path:"/article/:slug",component:T}))},Y=function(){var e=Object(n.useContext)(U),t=Object(m.a)(e,1)[0];return r.a.createElement("nav",{className:"navbar navbar-light"},r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{to:"/",className:"navbar-brand"},"Medium"),r.a.createElement("ul",{className:"nav navbar-nav pull-xs-right"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/home",className:"nav-link"},"Home")),!1===t.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/login",className:"nav-link"},"Sign in")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/register",className:"nav-link"},"Sign up"))),t.isLoggedIn&&r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/article/new",className:"nav-link"},r.a.createElement("i",{className:"ion-compose"}),"\xa0 New Post")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/settings",className:"nav-link"},r.a.createElement("i",{className:"ion-gear-a"}),"\xa0 Settings")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.c,{to:"/profile/".concat(t.currentUser.username),className:"nav-link"},t.currentUser.image&&r.a.createElement("img",{className:"user-pic",src:t.currentUser.image,alt:"profile"}),"\xa0 ",t.currentUser.username))))))},z=function(e){var t=e.children,a=v("/user"),r=Object(m.a)(a,2),c=r[0].response,l=r[1],s=Object(n.useContext)(U),o=Object(m.a)(s,2)[1],i=b("token"),u=Object(m.a)(i,1)[0];return Object(n.useEffect)((function(){u?(l(),o({type:"LOADING"})):o({type:"SET_UNAUTHORIZED"})}),[u,o,l]),Object(n.useEffect)((function(){c&&o({type:"SET_AUTHORIZED",payload:c.user})}),[c,o]),t},B=function(){return r.a.createElement(P,null,r.a.createElement(z,null,r.a.createElement(s.a,null,r.a.createElement(Y,null),r.a.createElement(W,null))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.8dd717d3.chunk.js.map